# =========================
# Bind Configuration
# =========================

binds {
    pass_mouse_when_bound = false
    scroll_event_delay = 300
    hide_special_on_workspace_change = false
    allow_workspace_cycles = true
    focus_preferred_method = 0
    ignore_group_lock = false

    workspace_back_and_forth = true
    workspace_center_on = 0

    window_direction_monitor_fallback = true

    movefocus_cycles_fullscreen = true
    movefocus_cycles_groupfirst = false

    disable_keybind_grabbing = false
    allow_pin_fullscreen = false
    drag_threshold = 0
}

# =========================
# Hyprland Management
# =========================

$mod = SUPER

# Reload and exit Hyprland
bind = $mod CTRL, R, exec, hyprctl reload
bind = $mod CTRL, E, exit

# =========================
# Workspace Management
# =========================

# Switch to workspace (mod+number)
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9

# Move focused window to workspace (mod+shift+number)
bind = $mod SHIFT, 1, movetoworkspacesilent, 1
bind = $mod SHIFT, 2, movetoworkspacesilent, 2
bind = $mod SHIFT, 3, movetoworkspacesilent, 3
bind = $mod SHIFT, 4, movetoworkspacesilent, 4
bind = $mod SHIFT, 5, movetoworkspacesilent, 5
bind = $mod SHIFT, 6, movetoworkspacesilent, 6
bind = $mod SHIFT, 7, movetoworkspacesilent, 7
bind = $mod SHIFT, 8, movetoworkspacesilent, 8
bind = $mod SHIFT, 9, movetoworkspacesilent, 9

# Move focused window to workspace and switch to it (mod+ctrl+number)
bind = $mod CTRL, 1, movetoworkspace, 1
bind = $mod CTRL, 2, movetoworkspace, 2
bind = $mod CTRL, 3, movetoworkspace, 3
bind = $mod CTRL, 4, movetoworkspace, 4
bind = $mod CTRL, 5, movetoworkspace, 5
bind = $mod CTRL, 6, movetoworkspace, 6
bind = $mod CTRL, 7, movetoworkspace, 7
bind = $mod CTRL, 8, movetoworkspace, 8
bind = $mod CTRL, 9, movetoworkspace, 9

# Toggle between current and previous workspace (mod+Tab)
bind = $mod, TAB, workspace, previous

# Toggle special workspaces (Hyprland-specific)
bind = $mod, Z, togglespecialworkspace, tasks
bind = $mod, X, togglespecialworkspace, magic
bind = $mod, C, togglespecialworkspace, music

# Move focused window to special workspace
bind = $mod SHIFT, Z, movetoworkspacesilent, special:tasks
bind = $mod SHIFT, X, movetoworkspacesilent, special:magic
bind = $mod SHIFT, C, movetoworkspacesilent, special:music

# Move focused window to special workspace and follow
bind = $mod CTRL, Z, movetoworkspace, special:tasks
bind = $mod CTRL, X, movetoworkspace, special:magic
bind = $mod CTRL, C, movetoworkspace, special:music

# =========================
# Window Management
# =========================

# Move focus between windows using vim keys (mod+h/j/k/l)
bind = $mod, H, movefocus, l
bind = $mod, J, movefocus, d
bind = $mod, K, movefocus, u
bind = $mod, L, movefocus, r

# Move focus between windows using Alt+Tab
bind = ALT, TAB, cyclenext

# Move focused window using vim keys (mod+shift+h/j/k/l)
bind = $mod SHIFT, H, movewindow, l
bind = $mod SHIFT, J, movewindow, d
bind = $mod SHIFT, K, movewindow, u
bind = $mod SHIFT, L, movewindow, r

# Enter resize mode (mod+shift+r)
bind = $mod SHIFT, R, submap, resize

# Resize mode
submap = resize
binde = , H, resizeactive, -10 0
binde = , J, resizeactive, 0 10
binde = , K, resizeactive, 0 -10
binde = , L, resizeactive, 10 0

binde = , Left, resizeactive, -10 0
binde = , Down, resizeactive, 0 10
binde = , Up, resizeactive, 0 -10
binde = , Right, resizeactive, 10 0

bind = , Return, submap, reset
bind = , Escape, submap, reset
submap = reset

# Mouse bindings for moving and resizing windows
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

# Additional window management bindings
bind = $mod SHIFT, Q, killactive
bind = $mod SHIFT, F, togglefloating
bind = $mod SHIFT, Space, fullscreen

# =========================
# Layout Management
# =========================

# Split containers (Hyprland uses pseudo for manual tiling)
bind = $mod CTRL, B, pseudo
bind = $mod CTRL, V, togglesplit

# Change layout of the focused container
bind = $mod CTRL, S, exec, hyprctl keyword general:layout master
bind = $mod CTRL, T, exec, hyprctl keyword general:layout dwindle
bind = $mod CTRL, Space, togglesplit

# =========================
# Multimedia Keys
# =========================

# Volume control
bindel = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 2%-
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 2%+
bindel = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Brightness control
bindel = , XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 2%-
bindel = , XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 2%+

# Media playback control
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# =========================
# Application Launchers
# =========================

# Launch applications
bind = $mod, Return, exec, kitty
bind = $mod, T, exec, kitty
bind = $mod, A, exec, rofi -show run
bind = $mod, B, exec, firefox
bind = $mod, E, exec, thunar

# =========================
# Custom Scripts
# =========================

# Screenshot bindings
bind = $mod, S, exec, ~/.local/bin/screenshot.sh region
bind = $mod SHIFT, S, exec, ~/.local/bin/screenshot.sh full
bind = , Print, exec, ~/.local/bin/screenshot.sh region