# =========================
# Keybindings Configuration
# =========================

# =========================
# Sway Management
# =========================

# Reload and exit sway
bindsym $mod+$ctrl+r reload
bindsym $mod+$ctrl+e exit sway

# =========================
# Workspace Management
# =========================

# Switch to workspace (mod+number)
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9

# Move focused window to workspace (mod+shift+number)
bindsym $mod+$shift+1 move container to workspace number 1
bindsym $mod+$shift+2 move container to workspace number 2
bindsym $mod+$shift+3 move container to workspace number 3
bindsym $mod+$shift+4 move container to workspace number 4
bindsym $mod+$shift+5 move container to workspace number 5
bindsym $mod+$shift+6 move container to workspace number 6
bindsym $mod+$shift+7 move container to workspace number 7
bindsym $mod+$shift+8 move container to workspace number 8
bindsym $mod+$shift+9 move container to workspace number 9

# Move focused window to workspace and switch to it (mod+ctrl+number)
bindsym $mod+$ctrl+1 move container to workspace number 1; workspace number 1
bindsym $mod+$ctrl+2 move container to workspace number 2; workspace number 2
bindsym $mod+$ctrl+3 move container to workspace number 3; workspace number 3
bindsym $mod+$ctrl+4 move container to workspace number 4; workspace number 4
bindsym $mod+$ctrl+5 move container to workspace number 5; workspace number 5
bindsym $mod+$ctrl+6 move container to workspace number 6; workspace number 6
bindsym $mod+$ctrl+7 move container to workspace number 7; workspace number 7
bindsym $mod+$ctrl+8 move container to workspace number 8; workspace number 8
bindsym $mod+$ctrl+9 move container to workspace number 9; workspace number 9

# Toggle between current and previous workspace (mod+Tab)
bindsym $mod+Tab workspace back_and_forth

# =========================
# Window Management
# =========================

# Move focus between windows using vim keys (mod+h/j/k/l)
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move focus between windows using Alt+Tab
bindsym $alt+Tab focus next

# Move focused window using vim keys (mod+shift+h/j/k/l)
bindsym $mod+$shift+h move left
bindsym $mod+$shift+j move down
bindsym $mod+$shift+k move up
bindsym $mod+$shift+l move right

# Change to resize mode (mod+shift+r)
bindsym $mod+$shift+r mode "resize"

# Resize mode bindings
mode "resize" {
    # Resize windows using vim keys and arrow keys
    bindsym h resize shrink width 10 px
    bindsym j resize grow height 10 px
    bindsym k resize shrink height 10 px
    bindsym l resize grow width 10 px

    bindsym Left resize shrink width 10 px
    bindsym Down resize grow height 10 px
    bindsym Up resize shrink height 10 px
    bindsym Right resize grow width 10 px

    # Exit resize mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# Mouse bindings for moving and resizing windows
floating_modifier $mod normal

# Additional window management bindings
bindsym $mod+$shift+q kill
bindsym $mod+$shift+f floating toggle
bindsym $mod+$shift+space fullscreen

# ========================
# Layout Management
# =========================

# Split containers
bindsym $mod+$ctrl+b splith
bindsym $mod+$ctrl+v splitv

# Change layout of the focused container
bindsym $mod+$ctrl+s layout stacking
bindsym $mod+$ctrl+t layout tabbed
bindsym $mod+$ctrl+space layout toggle split

# =========================
# Multimedia Keys
# =========================

# Volume control
bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -2%
bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +2%
bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle

# Brightness control
bindsym --locked XF86MonBrightnessDown exec brightnessctl set 2%-
bindsym --locked XF86MonBrightnessUp exec brightnessctl set 2%+

# Media playback control
bindsym --locked XF86AudioNext exec playerctl next
bindsym --locked XF86AudioPause exec playerctl play-pause
bindsym --locked XF86AudioPlay exec playerctl play-pause
bindsym --locked XF86AudioPrev exec playerctl previous

# ========================
# Application Launchers
# =========================

# Launch applications
bindsym $mod+Return exec $terminal
bindsym $mod+t exec $terminal
bindsym $mod+a exec $menu -show run
bindsym $mod+b exec $browser
bindsym $mod+e exec $file_manager

# =========================
# Custom Scripts
# =========================

# Screenshot bindings
bindsym $mod+S exec ~/.local/bin/screenshot.sh region
bindsym $mod+$shift+S exec ~/.local/bin/screenshot.sh full
bindsym Print exec ~/.local/bin/screenshot.sh region